---
layout: default
---

{% assign logo_path = '/media/brand_logos/' | append: page.brand_slug | append: '.jpg' %}
{% assign brand_name = page.title | replace: ' discount codes', '' | strip %}
<article class="space-y-6">
  <header class="space-y-3">
    <div class="flex items-center gap-4">
      <div class="w-20 h-20 flex items-center justify-center rounded-2xl border border-slate-200 overflow-hidden">
        <img src="{{ logo_path | relative_url }}"
             alt="{{ brand_name }} logo"
             class="w-full h-full object-cover"
             style="transform: scale(1.2);"
             loading="lazy">
      </div>
      <div class="space-y-1">
        <p class="text-xs uppercase tracking-wide text-slate-500">Brand</p>
        <h1 class="text-2xl font-semibold tracking-tight">{{ page.title }}</h1>
      </div>
    </div>
    <p class="text-sm text-slate-600 max-w-2xl">Latest feed of {{ brand_name }} discount codes and promotions.</p>
  </header>

  <section class="space-y-3 text-sm text-slate-600 max-w-2xl">
    <p>
      A collection of all the current promo codes you can apply at {{ brand_name }} checkout. Each code has been shared and
      tested by our community at <a href="https://reddit.com/r/SpendLess" class="text-slate-900 underline decoration-dotted hover:text-slate-700" target="_blank" rel="noopener">/r/SpendLess</a>.
      This page gets automatically updated on a frequent basis to keep the discount list fresh. Please note that all promotions can still change or end without prior notice.
    </p>
  </section>

  <section class="space-y-3">
    <h2 class="text-sm font-medium text-slate-900">Current discounts</h2>

    {%- assign brand_coupons = site.coupons | where: "brand_slug", page.brand_slug -%}
    {%- assign active = brand_coupons | where: "is_expired", false | sort: "discount_value" | reverse -%}

    {%- assign has_eligible = false -%}

    <div class="space-y-3">
      {% for coupon in active %}
        {% if coupon.code and coupon.code != '' and coupon.discount_value %}
          {% if coupon.discount_value contains '%' or coupon.discount_value contains '$' %}
            {% assign has_eligible = true %}

            <a href="{{ coupon.url | relative_url }}"
               data-surface-card
               class="block bg-white border border-slate-200 rounded-xl px-4 py-3 hover:border-slate-400 transition">
              <div class="flex flex-col gap-2">
                <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
                  <div class="flex items-start gap-3">
                    {% if coupon.discount_value %}
                      <span class="text-sm font-semibold px-3 py-1 rounded-full bg-emerald-50 text-emerald-800">
                        {{ coupon.discount_value }}
                      </span>
                    {% endif %}

                    <div class="space-y-1">
                      {% assign display_title = coupon.title %}
                      {% if coupon.discount_value %}
                        {% assign display_title = display_title | remove: coupon.discount_value | strip %}
                        {% assign display_title = display_title | replace: "  ", " " %}
                      {% endif %}
                      {% if display_title == '' and coupon.description_short %}
                        {% assign display_title = coupon.description_short %}
                      {% endif %}

                      <h3 class="text-sm font-medium text-slate-900">
                        {{ display_title }}
                      </h3>

                      <div class="inline-flex items-center text-xs font-semibold text-slate-600 uppercase tracking-wide">
                        <span>View promo code</span>
                        <span aria-hidden="true" class="ml-1">&rarr;</span>
                      </div>
                    </div>
                  </div>

                  {% if coupon.valid_until %}
                    <p class="text-[11px] text-slate-500 whitespace-nowrap">
                      Valid until {{ coupon.valid_until }}
                    </p>
                  {% endif %}
                </div>
                <span
                  class="text-[11px] text-rose-400 hover:text-rose-500 transition inline-flex items-center gap-1"
                  role="button"
                  tabindex="0"
                  data-report-invalid
                  data-coupon-id="{{ coupon.url | relative_url }}">
                  Report invalid code
                </span>
              </div>
            </a>
          {% endif %}
        {% endif %}
      {% endfor %}
    </div>

    {% unless has_eligible %}
      <p class="text-sm text-slate-500">No active discounts right now. Check back soon.</p>
    {% endunless %}
  </section>

  <section class="space-y-2">
    <h2 class="text-xs font-medium text-slate-500 uppercase tracking-wide">Expired discounts</h2>
    {% assign expired = brand_coupons | where: "is_expired", true %}
    {% if expired.size > 0 %}
      <ul class="space-y-1 text-xs text-slate-500">
        {% for coupon in expired %}
          <li>
            <a href="{{ coupon.url | relative_url }}" class="hover:text-slate-900">
              {{ coupon.title }}
            </a>
            <span class="ml-1 text-[11px] text-slate-400">(expired)</span>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-xs text-slate-400">No expired discounts yet.</p>
    {% endif %}
  </section>
</article>
