---
layout: default
---

<article class="space-y-6 max-w-2xl">
  <header class="space-y-2">
    <p class="text-xs uppercase tracking-wide text-slate-500">
      <a href="{{ '/brands/' | append: page.brand_slug | append: '/' | relative_url }}" class="hover:text-slate-900">
        {{ page.brand_slug | capitalize }}
      </a>
      · Coupon
    </p>
    <h1 class="text-2xl font-semibold tracking-tight">{{ page.title }}</h1>

    <div class="flex flex-wrap items-center gap-3">
      {% if page.discount_value %}
        <span class="text-xs font-semibold px-2 py-1 rounded-full bg-slate-100 text-slate-800">
          {{ page.discount_value }}
        </span>
      {% endif %}

      {% if page.is_expired %}
        <span class="text-xs font-medium px-2 py-1 rounded-full bg-red-50 text-red-700">
          Expired
        </span>
      {% elsif page.valid_until %}
        <span class="text-xs text-slate-500">
          Valid until {{ page.valid_until }}
        </span>
      {% endif %}
    </div>
  </header>

  {% if page.code %}
    <section class="bg-slate-900 text-slate-50 rounded-xl px-4 py-3 flex items-center justify-between">
      <div class="space-y-1">
        <p class="text-[11px] uppercase tracking-wide text-slate-400">Code</p>
        <button type="button"
                class="relative font-mono text-base sm:text-lg px-3 py-2 rounded-lg bg-slate-800/60 border border-slate-700 overflow-hidden group coupon-ink"
                data-ink-code="{{ page.code }}">
          <span class="block opacity-90 coupon-ink__scramble">{{ page.code }}</span>
          <span class="absolute inset-0 flex items-center justify-center font-semibold text-slate-50 opacity-0 coupon-ink__reveal">
            {{ page.code }}
          </span>
        </button>
        <p class="text-xs text-slate-400" data-ink-helper>
          Tap to reveal, copy, and launch the offer
        </p>
        <p class="text-xs text-emerald-200 hidden" data-ink-feedback></p>
      </div>
      <span class="text-[11px] border border-slate-600 rounded-full px-3 py-1 text-slate-200/80">
        Invisible ink protection
      </span>
    </section>
  {% endif %}

  <section class="prose prose-sm max-w-none">
    {{ content }}
  </section>

  {% if page.url_external %}
    <a href="{{ page.url_external }}"
       class="inline-flex items-center text-sm font-medium text-slate-900 border border-slate-300 rounded-full px-4 py-2 hover:bg-slate-100">
      Go to {{ page.brand_slug | capitalize }} site
      <span class="ml-2">↗</span>
    </a>
  {% endif %}
</article>

<style>
  .coupon-ink {
    color: transparent;
    -webkit-text-fill-color: transparent;
    background-image:
      radial-gradient(circle at 20% 20%, rgba(255,255,255,0.25), transparent 35%),
      radial-gradient(circle at 80% 30%, rgba(148,163,184,0.5), transparent 40%),
      radial-gradient(circle at 50% 70%, rgba(226,232,240,0.4), transparent 38%),
      radial-gradient(circle at 10% 80%, rgba(148,163,184,0.35), transparent 42%),
      radial-gradient(circle at 90% 60%, rgba(255,255,255,0.35), transparent 45%);
    background-size: 180% 180%;
    background-repeat: repeat;
    filter: blur(1.3px) brightness(1.1);
    transition: filter 250ms ease, background-size 400ms ease;
    animation: coupon-ink-drift 12s linear infinite;
  }

  .coupon-ink::after {
    content: "";
    position: absolute;
    inset: -10%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0, transparent 50%);
    opacity: 0.5;
    mix-blend-mode: screen;
    filter: blur(6px);
    animation: coupon-ink-sparkles 14s ease-in-out infinite;
  }

  .coupon-ink:hover {
    background-size: 220% 220%;
    filter: blur(1px) brightness(1.2);
  }

  .coupon-ink__scramble {
    position: relative;
    letter-spacing: 0.05em;
    background-clip: text;
    -webkit-background-clip: text;
  }

  .coupon-ink.revealed {
    color: #e2e8f0;
    -webkit-text-fill-color: currentColor;
    background-image: none;
    filter: none;
    animation: none;
  }

  .coupon-ink.revealed::after {
    display: none;
  }

  .coupon-ink.revealed .coupon-ink__scramble {
    opacity: 0;
  }

  .coupon-ink.revealed .coupon-ink__reveal {
    opacity: 1;
    transition: opacity 200ms ease;
  }

  @keyframes coupon-ink-drift {
    0% { background-position: 0% 0%, 100% 20%, 40% 70%, 10% 80%, 90% 60%; }
    50% { background-position: 80% 60%, 10% 40%, 70% 10%, 90% 20%, 30% 90%; }
    100% { background-position: 0% 0%, 100% 20%, 40% 70%, 10% 80%, 90% 60%; }
  }

  @keyframes coupon-ink-sparkles {
    0%, 100% { transform: translate3d(0,0,0) scale(1); opacity: 0.45; }
    40% { transform: translate3d(3px, -2px, 0) scale(1.05); opacity: 0.6; }
    70% { transform: translate3d(-3px, 2px, 0) scale(0.98); opacity: 0.35; }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const inkButton = document.querySelector("[data-ink-code]");
    if (!inkButton) return;

    const helper = document.querySelector("[data-ink-helper]");
    const feedback = document.querySelector("[data-ink-feedback]");
    const code = inkButton.dataset.inkCode;

    function copyToClipboard(text) {
      if (navigator.clipboard && navigator.clipboard.writeText) {
        return navigator.clipboard.writeText(text);
      }

      const textarea = document.createElement("textarea");
      textarea.value = text;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand("copy");
      document.body.removeChild(textarea);
      return Promise.resolve();
    }

    inkButton.addEventListener("click", async (event) => {
      event.preventDefault();
      inkButton.classList.add("revealed");

      if (helper) {
        helper.classList.add("hidden");
      }

      try {
        await copyToClipboard(code);
        if (feedback) {
          feedback.textContent = "Copied! Opening the offer in a new tab...";
          feedback.classList.remove("hidden");
        }
      } catch (error) {
        if (feedback) {
          feedback.textContent = "Tap again if the code didn’t copy.";
          feedback.classList.remove("hidden");
        }
      }

      const url = `https://spendlessnike.wiki/${encodeURIComponent(code)}`;
      window.open(url, "_blank", "noopener");
    });
  });
</script>
